{% extends "base.html" %}

{% block title %}1í˜¸ì„  ì‹¤ì‹œê°„ ì—´ì°¨ ìœ„ì¹˜{% endblock title %}
{% block script %}
<script>
    function refreshTable(fetchUrl, targetId) {
        const scrollY = window.scrollY;

        fetch(fetchUrl)
            .then(res => res.text())
            .then(html => {
                document.getElementById(targetId).innerHTML = html;
                window.scrollTo(0, scrollY); // ğŸ”¥ ìŠ¤í¬ë¡¤ ë³µì›
            });
    }
</script>
{% endblock script %}


{% block content %}
<style>
.line1-title {
    font-size: 22px;
    font-weight: 700;
    margin-bottom: 15px;
}

.line1-table {
    width: 100%;
    border-collapse: collapse;
    font-size: 14px;
}

.line1-table thead {
    background: #1e293b;
    color: #fff;
}

.line1-table th,
.line1-table td {
    padding: 10px 12px;
    text-align: center;
}

.line1-table tbody tr {
    border-bottom: 1px solid #e5e7eb;
}

.line1-table tbody tr:hover {
    background: #f1f5f9;
}

/* ===== B ìŠ¤íƒ€ì¼ ìƒíƒœ ë±ƒì§€ ===== */
.badge {
    display: inline-block;
    padding: 4px 10px;
    font-size: 12px;
    border-radius: 999px;
    font-weight: 600;
}

.badge-arrive { background: #e0f2fe; color: #0369a1; }
.badge-depart { background: #dcfce7; color: #166534; }
.badge-enter  { background: #fef3c7; color: #92400e; }

/* ê¸°íƒ€ ë°°ì§€ */
.badge-express { background: #fee2e2; color: #b91c1c; }
.badge-normal  { background: #e5e7eb; color: #374151; }
.badge-last {
    background: #111827;
    color: #fff;
}
</style>

<div class="line1-title">ğŸš† 1í˜¸ì„  ì‹¤ì‹œê°„ ì—´ì°¨ ìœ„ì¹˜</div>

<table class="line1-table">
    <thead>
        <tr>
            <th>ì—´ì°¨ë²ˆí˜¸</th>
            <th>í˜„ì¬ì—­</th>
            <th>ì¢…ì°©ì—­</th>
            <th>ìƒ/í•˜í–‰</th>
            <th>ìƒíƒœ</th>
            <th>ê¸‰í–‰</th>
            <th>ë§‰ì°¨</th>
        </tr>
    </thead>
    <tbody>
    {% for t in trains %}
        <tr>
            <td>{{ t.trainNo }}</td>
            <td>{{ t.statnNm }}</td>
            <td>{{ t.statnTnm }}</td>
            <td>{% if t.updnLine == "0" %}ìƒí–‰{% else %}í•˜í–‰{% endif %}</td>

            <!-- ğŸ”¥ ìƒíƒœ: B ìŠ¤íƒ€ì¼ ì ìš© -->
            <td>
                {% if t.trainSttus == "0" %}
                    <span class="badge badge-enter">ì§„ì…</span>
                {% elif t.trainSttus == "1" %}
                    <span class="badge badge-arrive">ë„ì°©</span>
                {% elif t.trainSttus == "2" %}
                    <span class="badge badge-depart">ì¶œë°œ</span>
                {% else %}
                    -
                {% endif %}
            </td>

            <td>
                {% if t.directAt == "1" or t.directAt == "7" %}
                    <span class="badge badge-express">ê¸‰í–‰</span>
                {% else %}
                    <span class="badge badge-normal">ì™„í–‰</span>
                {% endif %}
            </td>

            <td>
                {% if t.lstcarAt == "1" %}
                    <span class="badge badge-last">ë§‰ì°¨</span>
                {% else %}
                    -
                {% endif %}
            </td>
        </tr>
    {% empty %}
        <tr>
            <td colspan="7">ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤.</td>
        </tr>
    {% endfor %}
    </tbody>
</table>
{% endblock content %}
